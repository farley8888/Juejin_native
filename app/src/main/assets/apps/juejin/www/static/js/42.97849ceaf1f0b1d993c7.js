webpackJsonp([42],{EH1x:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("RIXT"),o=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);var a=s("R54z"),r=!1;var l=function(t){r||s("K8oS")},d=s("C7Lr")(o.a,a.a,!1,l,"data-v-0ca1b2b2",null);d.options.__file="src/components/personal-center/history.vue",e.default=d.exports},K8oS:function(t,e,s){var i=s("qHLz");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("FIqI")("683bcce4",i,!1,{})},R54z:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"history"}},[s("header-nav",{attrs:{title:t.msg}}),t._v(" "),0!==t.list.length?s("news-list",{attrs:{deleteBol:!1,name:2,article_check:!0,isHistory:1,list:t.list,readLineBol:!0,gray:!1},on:{deleteFn:t.deleteFn}}):t._e(),t._v(" "),this.list.length>0?s("div",{staticClass:"no-more-data"},[t._v("没有更多数据了！")]):t._e(),t._v(" "),0===this.list.length?s("div",{ref:"noList",attrs:{id:"noList"}},[s("stateless-head",{attrs:{headData:t.headData}}),t._v(" "),s("news-list",{attrs:{list:t.recommendList},on:{deleteAd:t.deteteAd}})],1):t._e()],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},RIXT:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(s("IHPB")),o=u(s("KH7x")),n=u(s("HzJ8")),a=u(s("3cXf")),r=u(s("VAth")),l=u(s("rmOY")),d=u(s("CY2W")),c=s("R4Sj");function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"history",computed:(0,c.mapState)({commonState:function(t){return t.common}}),data:function(){return{setBrowser:{},msg:"历史阅读",list:[],headData:{imgUrl:s("XonZ"),txt:"没有历史阅读"},recommendList:[]}},methods:{deteteAd:function(t){this.recommendList.splice(t,1)},deleteFn:function(t){var e={},s=!0,i=!1,r=void 0;try{for(var l,d=(0,n.default)(this.list.entries());!(s=(l=d.next()).done);s=!0){var c=(0,o.default)(l.value,2),u=c[0];if(c[1].id===t){this.list.splice(u,1),this.$utils.cache("historys",(0,a.default)(this.list));break}}}catch(t){i=!0,r=t}finally{try{!s&&d.return&&d.return()}finally{if(i)throw r}}delete(e=this.$utils.cache("history")?JSON.parse(this.$utils.cache("history")):e)[t],this.$utils.cache("history",(0,a.default)(e)),this.$toast({message:"删除成功",position:"middle",duration:1500}),this.getList()},getList:function(){if(this.$utils.cache("historys")){var t=JSON.parse(this.$utils.cache("historys"));this.list=t,console.log(this.list)}else this.getRecommend()},upList:function(){var t=this;if(0===this.$utils.scrollHeight()){var e={columnid:"index",ad_position:24};e.lastid=this.recommendList[this.recommendList.length-1].id,this.$api.get("PULL_UP",e,function(e){var s=e.data||[];t.recommendList=[].concat((0,i.default)(t.recommendList),(0,i.default)(s))})}},scrollFn:function(){var t=this.$refs.noList.querySelectorAll(".mutiAdList");if(t&&t.length>0){var e=!0,s=!1,i=void 0;try{for(var o,a=(0,n.default)(t);!(e=(o=a.next()).done);e=!0){var r=o.value;this.$utils.setObj(r,this.setBrowser)&&r.getBoundingClientRect().top-window.outerHeight<0&&(this.setBrowser[r.dataset.id]=!0,console.log(this.setBrowser),this.setBrowserNums(r.dataset.id))}}catch(t){s=!0,i=t}finally{try{!e&&a.return&&a.return()}finally{if(s)throw i}}}},setBrowserNums:function(t){var e={ad_id:t,type:0,uuid:this.$store.state.common.uuid};this.$api.get("AdvTOTAL",e,function(t){})},getRecommend:function(){var t=this,e={columnid:"index",ad_position:24};this.$api.get("PULL",e,function(e){t.recommendList=e.data||[],window.onscroll=t.upList,t.$nextTick(function(){window.addEventListener("scroll",t.scrollFn,t.$utils.isPassive())})})}},beforeRouteLeave:function(t,e,s){window.removeEventListener("scroll",this.scrollFn,this.$utils.isPassive()),s()},mounted:function(){this.getList()},components:{HeaderNav:r.default,NewsList:l.default,StatelessHead:d.default}}},XonZ:function(t,e){t.exports="data:image/png;base64,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"},qHLz:function(t,e,s){(t.exports=s("UTlt")(!0)).push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"history.vue",sourceRoot:""}])}});
//# sourceMappingURL=42.97849ceaf1f0b1d993c7.js.map