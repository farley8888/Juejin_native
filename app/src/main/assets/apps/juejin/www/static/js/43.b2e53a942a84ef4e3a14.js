webpackJsonp([43],{"2QIn":function(n,t,e){(n.exports=e("UTlt")(!0)).push([n.i,'\n#noList[data-v-389c32db]{overflow:auto;-webkit-overflow-scrolling:touch\n}\n#collection[data-v-389c32db],#noList[data-v-389c32db]{height:100vh;content:"viewport-units-buggyfill; height: 100vh"\n}\n#collection[data-v-389c32db]{-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden\n}\n.scrollTouch[data-v-389c32db]{top:25.066667vw;content:"viewport-units-buggyfill; top: 25.066667vw"\n}\n.scrollTouch.hasTab[data-v-389c32db]{top:11.733333vw;content:"viewport-units-buggyfill; top: 11.733333vw"\n}\n.navbar[data-v-389c32db]{top:0\n}\n.navbar.isShowNav[data-v-389c32db]{top:11.733333vw;content:"viewport-units-buggyfill; top: 11.733333vw"\n}\n.no-data[data-v-389c32db]{text-align:center;line-height:10.666667vw;color:#999;font-size:4vw;content:"viewport-units-buggyfill; line-height: 10.666667vw; line-height: 10.666667vw; font-size: 4vw"\n}\n.navbar[data-v-389c32db]{-ms-flex-align:center;border-bottom:1px solid #eee;position:fixed;background:#fff;left:0;right:0;z-index:1\n}\n.navbar[data-v-389c32db],.navbar>div[data-v-389c32db]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;align-items:center\n}\n.navbar>div[data-v-389c32db]{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;-ms-flex-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center\n}\n.navbar>div .text[data-v-389c32db]{padding:2.666667vw 2.666667vw 2.133333vw;line-height:6vw;border-bottom:.533333vw solid #fff;font-size:4.266667vw;content:"viewport-units-buggyfill; padding: 2.666667vw 2.666667vw 2.133333vw; line-height: 6vw; border-bottom: 0.533333vw solid #fff; font-size: 4.266667vw"\n}\n.navbar>div .text.active[data-v-389c32db]{border-color:#f4a82b;color:#f4a82b\n}\n.scrollTouch[data-v-389c32db]{position:absolute;top:11.733333vw;left:0;right:0;bottom:0;overflow:auto;padding-bottom:13.333333vw;-webkit-box-sizing:border-box;box-sizing:border-box;content:"viewport-units-buggyfill; top: 11.733333vw; padding-bottom: 13.333333vw"\n}',"",{version:3,sources:["/Users/apple/Documents/Gits/mobile2_juejinlian/src/components/personal-center/collection.vue","/Users/apple/Documents/Gits/mobile2_juejinlian/src/components/personal-center/<no source>"],names:[],mappings:";AAqQA,yBACE,cAAc,gCACmB;CAElC;AACD,sDAFE,aAAa,iDCxQf;CD8QC;AAJD,6BAEE,8BAAA,sBAAsB,eACN;CACjB;AACD,8BACE,gBAAU,oDChRZ;CDoRC;AALD,qCAGI,gBAAS,oDClRb;CDmRG;AAEH,yBACE,KAAQ;CAIT;AALD,mCAGI,gBAAS,oDCxRb;CDyRG;AAEH,0BAEE,kBAAkB,wBACD,WACN,cACI,sGChSjB;CDiSC;AACD,yBAEE,sBAAmB,6BACU,eACd,gBACC,OACT,QACC,SACE;CAkBX;AA1BD,sDACE,oBAAA,oBAAA,aAAa,yBACb,kBAAmB;CAuBlB;AAzBH,6BAUI,mBAAA,WAAA,OAAO,kBACW,sBAEC,wBACnB,qBAAA,sBAAuB;CAWxB;AAzBH,mCAgBM,yCAAuB,gBACN,mCACY,qBACd,4JCrTrB;CD0TK;AAxBL,0CAqBQ,qBAAqB,aACN;CAChB;AAIP,8BACE,kBAAkB,gBACT,OACF,QACC,SACC,cACK,2BACO,8BACrB,sBAAsB,iFCrUxB;CDsUC",file:"collection.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#noList {\n  overflow: auto;\n  -webkit-overflow-scrolling: touch;\n  height: 100vh;\n}\n#collection {\n  height: 100vh;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.scrollTouch {\n  top: 188px;\n  &.hasTab {\n    top: 88px;\n  }\n}\n.navbar {\n  top: 0px;\n  &.isShowNav {\n    top: 88px;\n  }\n}\n.no-data {\n  line-height: 80px;\n  text-align: center;\n  line-height: 80px;\n  color: #999;\n  font-size: 30px;\n}\n.navbar {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #eee;\n  position: fixed;\n  background: #fff;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  >div {\n    flex: 1;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .text {\n      padding: 20px 20px 16px;\n      line-height: 45px;\n      border-bottom: 4px solid #fff;\n      font-size: 32px;\n      &.active {\n        border-color: #F4A82B;\n        color:  #F4A82B;\n      }\n    }\n  }\n}\n.scrollTouch {\n  position: absolute;\n  top: 88px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: auto;\n  padding-bottom: 100px;\n  box-sizing: border-box;\n}\n",null],sourceRoot:""}])},"7tzx":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(e("HzJ8")),o=v(e("IHPB")),a=v(e("VAth")),s=v(e("rmOY")),l=v(e("CY2W")),r=v(e("95HW")),d=e("R4Sj"),c=v(e("80DI"));function v(n){return n&&n.__esModule?n:{default:n}}t.default={name:"collection",computed:(0,d.mapState)({commonState:function(n){return n.common}}),data:function(){return{reloading:0,setBrowser:{},navList:[{tab_name:"全部",type:""},{tab_name:"视频",type:"movie"},{tab_name:"资讯",type:"article"}],activeIndex:0,isShow:!1,type:"",msg:"我的收藏",list:[],currentItem:{},recommendList:[],headData:{imgUrl:e("D8kE"),txt:"还没有收藏的文章"},headData1:{imgUrl:e("D8kE"),txt:"还没有收藏的视频"},id:0,dropBol:!1,index:null,collectionBol:null,contentTxt:"",page:1}},methods:{deleteAd:function(n){this.recommendList.splice(n,1)},dropFn:function(){var n=this;this.dropBol=!1;var t={};"movie"===this.currentItem.type?(t.vod_id=this.currentItem.aid,t.type="movie"):(t.aid=this.currentItem.aid,t.type="article"),t.status=this.currentItem.collectionBol?1:2;var e=2===t.status?"删除收藏成功":"收藏成功";this.$api.post("CLLECT",t,function(t){n.$toast({message:e,position:"middle",duration:1500}),n.currentItem.collectionBol=!n.currentItem.collectionBol,n.list.splice(n.index,1)})},loadMore:function(){var n=this;this.loading>0||(setTimeout(function(){n.loading=0},2e3),this.loading=1,this.getList(function(t){n.list=[].concat((0,o.default)(n.list),(0,o.default)(t.data.data))}))},deleteFn:function(n,t,e){this.contentTxt=t?"是否删除收藏":"是否确定收藏",this.dropBol=!0,this.currentItem=this.list[e],this.index=e},setIndex:function(n){var t=this;this.type=this.navList[n].type,this.activeIndex=n,this.list=[],this.page=1,this.loading=1,this.getList(function(n){t.list=n.data.data})},getList:function(n){var t=this,e={page:this.page};this.type&&(e.type=this.type),this.$api.get("COLLECTION",e,function(o){t.loading=0;var a=!0,s=!1,l=void 0;try{for(var r,d=(0,i.default)(o.data.data);!(a=(r=d.next()).done);a=!0){var c=r.value;"article"===c.type&&0===c.item.length&&(c.item={aid:c.aid,title:c.title,type:4})}}catch(n){s=!0,l=n}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}n&&n(o),0!==o.data.data.length||1!==t.page||e.type||t.getRecommend(),t.page>=o.data.last_page&&(t.loading=2),t.page++})},upList:function(){var n=this;if(0===this.$utils.scrollHeight()&&this.ul.offsetHeight-this.$refs.noList.scrollTop<500&&0===this.reloading){this.reloading=1,setTimeout(function(){n.reloading=0},5e3);var t={columnid:"index",ad_position:26};t.lastid=this.recommendList[this.recommendList.length-1].id,this.$api.get("PULL_UP",t,function(t){n.reloading=0;var e=t.data||[];n.recommendList=[].concat((0,o.default)(n.recommendList),(0,o.default)(e))})}},getRecommend:function(){var n=this,t={columnid:"index",ad_position:26};this.$api.get("PULL",t,function(t){n.recommendList=t.data||[],n.$refs.noList.onscroll=n.upList,n.$nextTick(function(){n.ul=n.$refs.noList.getElementsByTagName("ul")[0],n.$refs.noList&&n.$refs.noList.addEventListener("scroll",n.scrollFn,n.$utils.isPassive())})})},setBrowserNums:function(n){var t={ad_id:n,type:0,uuid:this.$store.state.common.uuid};this.$api.get("AdvTOTAL",t,function(n){})},scrollFn:function(){var n=this.$refs.noList.querySelectorAll(".mutiAdList");if(n&&n.length>0){var t=!0,e=!1,o=void 0;try{for(var a,s=(0,i.default)(n);!(t=(a=s.next()).done);t=!0){var l=a.value;this.$utils.setObj(l,this.setBrowser)&&l.getBoundingClientRect().top-window.outerHeight<0&&(this.setBrowser[l.dataset.id]=!0,console.log(this.setBrowser),this.setBrowserNums(l.dataset.id))}}catch(n){e=!0,o=n}finally{try{!t&&s.return&&s.return()}finally{if(e)throw o}}}}},created:function(){var n=this;this.loading=1,this.getList(function(t){n.list=t.data.data,n.list.length>0&&(n.isShow=!0)})},components:{HeaderNav:a.default,NewsList:s.default,StatelessHead:l.default,PromptBox:r.default,ListLoading:c.default}}},D8kE:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHMAAABzBAMAAABZbSDVAAAALVBMVEUAAADS0tLo6Oji4uLY2Njy8vL6+vrk5OTv7+/+/v739/ff39/c3Nz09PTr6+s4EvnmAAAAAXRSTlMAQObYZgAAAjRJREFUWMPt1rFrE2EYx/EHiqdtrfgabWsboe3iVDAWFLecFmc76KJDRFFQlNwiuLUO4hhxcNChXdUhB+JscRCc4iCu8T/RlIu/O997f97zQCGU/MaED99AkoeTP/sZO+W+9mRvH5x+9e2BPOIsmx/QLWfapsiUs21B5KiR1kW+O+N6klhpW2IrbYqz7viQnl+pvLRIL0j1RY08rYlmE3k6q6JRnp4T1dIcXdLR5TEd0/2l99fDu9xidMaxnWH0tqNrEZpwukRozOlnO20Sustpl9BfnPYJfUtlvUNolDL6SQiVmbNroV1cHcWf/5geTPrehVfbZpQ/pc4zurNvZ609cmcttZ+1LU43CX1D5aIQGiWMPmVUomcrwT0fxZ//CNFHL/5ZWpXedN4q0ofOSqdiM73rqtIH7wZrgaZV6S23t5N98R/COD329/oN6XSQdsvPGv6aL4P0WpE28meI38iahG7T6eyVjRC9VJWu3hsuzaIdCZ21ZoFeleEOIwpa/Hj9wiv4nhNEi3QCD2Z5OlcaLdLJ5eytJ5Knp/yoRyX6cX2wG1KgC6VRUH+gXlRNEdVSRNUUUS1FVE0R1VJE1fQ1oko62UBUSV8hqqSIqimiWoqomiKqpYiqKaJqmkXnRE3rWbStpw5RI20bKKI+7XKKqE9nOUXUp4sdShH1qfvGKaI+dV/WyreLqE/5SFRiTkhUEnNUdsxRmTZHJVJHsQ1tFDukjmJ3/idPSHCPP66zXemVs99ry1kWT5wVPgAAAABJRU5ErkJggg=="},Y4yM:function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"collection"}},[e("header-nav",{attrs:{title:n.msg}}),n._v(" "),n.list.length>0||n.isShow?e("div",{staticClass:"navbar",class:{isShowNav:n.$utils.showNavBar()}},n._l(n.navList,function(t,i){return e("div",{key:i,staticClass:"navItem"},[e("div",{staticClass:"text",class:{active:i===n.activeIndex},on:{click:function(t){return n.setIndex(i)}}},[n._v(n._s(t.tab_name))])])}),0):n._e(),n._v(" "),e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:n.loadMore,expression:"loadMore"}],ref:"scrollTouch",staticClass:"scrollTouch",class:{active:n.$config.source_style>5,hasTab:n.list.length>0},attrs:{"infinite-scroll-distance":"200"}},[0!==n.list.length?e("news-list",{attrs:{name:1,list:n.list,collectionBtn:!0},on:{deleteFn:n.deleteFn}}):n._e(),n._v(" "),e("list-loading",{attrs:{page:2,loading:n.loading}}),n._v(" "),n.list.length>0&&2===n.loading?e("div",{staticClass:"no-data"},[n._v("没有更多数据!")]):n._e()],1),n._v(" "),0===n.list.length&&2===n.loading?e("div",{ref:"noList",attrs:{id:"noList"}},[0===n.activeIndex||2===n.activeIndex?e("stateless-head",{attrs:{headData:n.headData}}):n._e(),n._v(" "),1===n.activeIndex?e("stateless-head",{attrs:{headData:n.headData1}}):n._e(),n._v(" "),e("news-list",{attrs:{list:n.recommendList},on:{deleteAd:n.deleteAd}})],1):n._e(),n._v(" "),e("prompt-box",{attrs:{dropBol:n.dropBol,rightTxt:"确定",contentTxt:n.contentTxt},on:{leftBtn:function(t){n.dropBol=!1},rightBtn:n.dropFn}})],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};t.a=o},j5E3:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("7tzx"),o=e.n(i);for(var a in i)"default"!==a&&function(n){e.d(t,n,function(){return i[n]})}(a);var s=e("Y4yM"),l=!1;var r=function(n){l||e("wNuZ")},d=e("C7Lr")(o.a,s.a,!1,r,"data-v-389c32db",null);d.options.__file="src/components/personal-center/collection.vue",t.default=d.exports},wNuZ:function(n,t,e){var i=e("2QIn");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("FIqI")("3f19a42a",i,!1,{})}});
//# sourceMappingURL=43.b2e53a942a84ef4e3a14.js.map